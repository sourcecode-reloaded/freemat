<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
<TITLE>FORMAT Control the Format of Matrix Display
</TITLE>
</HEAD>
<BODY>
<H2>FORMAT Control the Format of Matrix Display
</H2>
<P>
Section: <A HREF=sec_io.html> Input/Ouput Functions </A>
<H3>Usage</H3>
FreeMat supports several modes for displaying matrices (either through the
<code>disp</code> function or simply by entering expressions on the command line.  
There are several options for the format command.  The default mode is equivalent
to
<PRE>
   format short
</PRE>
<P>
which generally displays matrices with 4 decimals, and scales matrices if the entries
have magnitudes larger than roughly <code>1e2</code> or smaller than <code>1e-2</code>.   For more 
information you can use 
<PRE>
   format long
</PRE>
<P>
which displays roughly 7 decimals for <code>float</code> and <code>complex</code> arrays, and 14 decimals
for <code>double</code> and <code>dcomplex</code>.  You can also use
<PRE>
   format short e
</PRE>
<P>
to get exponential format with 4 decimals.  Matrices are not scaled for exponential 
formats.  Similarly, you can use
<PRE>
   format long e
</PRE>
<P>
which displays the same decimals as <code>format long</code>, but in exponential format.
You can also use the <code>format</code> command to retrieve the current format:
<PRE>
   s = format
</PRE>
<P>
where <code>s</code> is a string describing the current format.
<H3>Example</H3>
We start with the short format, and two matrices, one of double precision, and the
other of single precision.
<PRE>
--&gt; format short
--&gt; a = randn(4)

a = 
   -0.4464    1.3842   -1.6185    0.5833 
   -2.7002    1.0298    0.8558    1.1519 
   -1.8965   -0.8604    0.3692   -0.5498 
   -0.1936    0.0672    0.7333   -0.1260 

--&gt; b = float(randn(4))

b = 
   -0.0372    0.1739   -1.2368   -2.1012 
    0.0975    1.0987    1.3756   -0.4231 
   -0.1765    0.6291    0.8799   -1.7325 
   -0.5160    2.9584    0.3490    2.5016 
</PRE>
<P>
Note that in the short format, these two matrices are displayed with the same format.
In <code>long</code> format, however, they display differently
<PRE>
--&gt; format long
--&gt; a

ans = 
  -0.44637116776525   1.38422429193980  -1.61853268044703   0.58333002104868 
  -2.70018391001668   1.02976505999317   0.85584934504212   1.15188740639730 
  -1.89651168683597  -0.86035023612600   0.36919978259874  -0.54981120340343 
  -0.19361358896282   0.06718942261647   0.73327437564092  -0.12603237650357 

--&gt; b

ans = 
  -0.0371710   0.1739477  -1.2367799  -2.1012237 
   0.0975016   1.0986995   1.3756371  -0.4231326 
  -0.1764808   0.6290820   0.8798813  -1.7324721 
  -0.5160447   2.9583969   0.3489532   2.5015631 
</PRE>
<P>
Note also that we we scale the contents of the matrices, FreeMat rescales the entries
with a scale premultiplier.
<PRE>
--&gt; format short
--&gt; a*1e4

ans = 

   1.0e+04 * 
   -0.4464    1.3842   -1.6185    0.5833 
   -2.7002    1.0298    0.8558    1.1519 
   -1.8965   -0.8604    0.3692   -0.5498 
   -0.1936    0.0672    0.7333   -0.1260 

--&gt; a*1e-4

ans = 

   1.0e-04 * 
   -0.4464    1.3842   -1.6185    0.5833 
   -2.7002    1.0298    0.8558    1.1519 
   -1.8965   -0.8604    0.3692   -0.5498 
   -0.1936    0.0672    0.7333   -0.1260 

--&gt; b*1e4

ans = 

   1.0e+04 * 
   -0.0372    0.1739   -1.2368   -2.1012 
    0.0975    1.0987    1.3756   -0.4231 
   -0.1765    0.6291    0.8799   -1.7325 
   -0.5160    2.9584    0.3490    2.5016 

--&gt; b*1e-4

ans = 

   1.0e-04 * 
   -0.0372    0.1739   -1.2368   -2.1012 
    0.0975    1.0987    1.3756   -0.4231 
   -0.1765    0.6291    0.8799   -1.7325 
   -0.5160    2.9584    0.3490    2.5016 
</PRE>
<P>
Next, we use the exponential formats:
<PRE>
--&gt; format short e
--&gt; a*1e4

ans = 
 -4.4637e+03  1.3842e+04 -1.6185e+04  5.8333e+03 
 -2.7002e+04  1.0298e+04  8.5585e+03  1.1519e+04 
 -1.8965e+04 -8.6035e+03  3.6920e+03 -5.4981e+03 
 -1.9361e+03  6.7189e+02  7.3327e+03 -1.2603e+03 

--&gt; a*1e-4

ans = 
 -4.4637e-05  1.3842e-04 -1.6185e-04  5.8333e-05 
 -2.7002e-04  1.0298e-04  8.5585e-05  1.1519e-04 
 -1.8965e-04 -8.6035e-05  3.6920e-05 -5.4981e-05 
 -1.9361e-05  6.7189e-06  7.3327e-05 -1.2603e-05 

--&gt; b*1e4

ans = 
 -3.7171e+02  1.7395e+03 -1.2368e+04 -2.1012e+04 
  9.7502e+02  1.0987e+04  1.3756e+04 -4.2313e+03 
 -1.7648e+03  6.2908e+03  8.7988e+03 -1.7325e+04 
 -5.1604e+03  2.9584e+04  3.4895e+03  2.5016e+04 

--&gt; b*1e-4

ans = 
 -3.7171e-06  1.7395e-05 -1.2368e-04 -2.1012e-04 
  9.7502e-06  1.0987e-04  1.3756e-04 -4.2313e-05 
 -1.7648e-05  6.2908e-05  8.7988e-05 -1.7325e-04 
 -5.1604e-05  2.9584e-04  3.4895e-05  2.5016e-04 
</PRE>
<P>
Finally, if we assign the <code>format</code> function to a variable, we can retrieve the 
current format:
<PRE>
--&gt; format short
--&gt; t = format

t = 
short
</PRE>
<P>
</BODY>
</HTML>
