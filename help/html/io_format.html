<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
<TITLE>FORMAT Control the Format of Matrix Display
</TITLE>
</HEAD>
<BODY>
<H2>FORMAT Control the Format of Matrix Display
</H2>
<P>
Section: <A HREF=sec_io.html> Input/Ouput Functions </A>
<H3>Usage</H3>
FreeMat supports several modes for displaying matrices (either through the
<code>disp</code> function or simply by entering expressions on the command line.  
There are several options for the format command.  The default mode is equivalent
to
<PRE>
   format short
</PRE>
<P>
which generally displays matrices with 4 decimals, and scales matrices if the entries
have magnitudes larger than roughly <code>1e2</code> or smaller than <code>1e-2</code>.   For more 
information you can use 
<PRE>
   format long
</PRE>
<P>
which displays roughly 7 decimals for <code>float</code> and <code>complex</code> arrays, and 14 decimals
for <code>double</code> and <code>dcomplex</code>.  You can also use
<PRE>
   format short e
</PRE>
<P>
to get exponential format with 4 decimals.  Matrices are not scaled for exponential 
formats.  Similarly, you can use
<PRE>
   format long e
</PRE>
<P>
which displays the same decimals as <code>format long</code>, but in exponential format.
You can also use the <code>format</code> command to retrieve the current format:
<PRE>
   s = format
</PRE>
<P>
where <code>s</code> is a string describing the current format.
<H3>Example</H3>
We start with the short format, and two matrices, one of double precision, and the
other of single precision.
<PRE>
--&gt; format short
--&gt; a = randn(4)

a = 

   -0.5024   -2.6002   -1.6141   -2.0018 
    1.6072    1.1325    1.3174   -0.4058 
   -0.0978   -0.5657    0.4971   -1.2410 
    1.3005    0.6452    1.2515   -0.0351 

--&gt; b = float(randn(4))

b = 

    1.4332   -1.0239   -0.7042    1.2786 
    1.9185   -0.3992    0.7259    0.0537 
    0.3882    0.9980   -0.5234    0.0341 
    0.3463    0.0497   -0.1555    0.7200 
</PRE>
<P>
Note that in the short format, these two matrices are displayed with the same format.
In <code>long</code> format, however, they display differently
<PRE>
--&gt; format long
--&gt; a

ans = 

  -0.50235329575499  -2.60018715044381  -1.61413548168488  -2.00180690926119 
   1.60724570348296   1.13253573881099   1.31739504997908  -0.40581241620300 
  -0.09782531339812  -0.56569982205792   0.49710077498187  -1.24101580139258 
   1.30054322573225   0.64518230660156   1.25154120007495  -0.03513175410167 

--&gt; b

ans = 

   1.4332399  -1.0238842  -0.7041844   1.2786230 
   1.9185069  -0.3992070   0.7259176   0.0536587 
   0.3881907   0.9980150  -0.5234038   0.0341345 
   0.3462810   0.0497018  -0.1555096   0.7199770 
</PRE>
<P>
Note also that we we scale the contents of the matrices, FreeMat rescales the entries
with a scale premultiplier.
<PRE>
--&gt; format short
--&gt; a*1e4

ans = 

   1.0e+04 * 

   -0.5024   -2.6002   -1.6141   -2.0018 
    1.6072    1.1325    1.3174   -0.4058 
   -0.0978   -0.5657    0.4971   -1.2410 
    1.3005    0.6452    1.2515   -0.0351 

--&gt; a*1e-4

ans = 

   1.0e-04 * 

   -0.5024   -2.6002   -1.6141   -2.0018 
    1.6072    1.1325    1.3174   -0.4058 
   -0.0978   -0.5657    0.4971   -1.2410 
    1.3005    0.6452    1.2515   -0.0351 

--&gt; b*1e4

ans = 

   1.0e+04 * 

    1.4332   -1.0239   -0.7042    1.2786 
    1.9185   -0.3992    0.7259    0.0537 
    0.3882    0.9980   -0.5234    0.0341 
    0.3463    0.0497   -0.1555    0.7200 

--&gt; b*1e-4

ans = 

   1.0e-04 * 

    1.4332   -1.0239   -0.7042    1.2786 
    1.9185   -0.3992    0.7259    0.0537 
    0.3882    0.9980   -0.5234    0.0341 
    0.3463    0.0497   -0.1555    0.7200 
</PRE>
<P>
Next, we use the exponential formats:
<PRE>
--&gt; format short e
--&gt; a*1e4

ans = 

 -5.0235e+03 -2.6002e+04 -1.6141e+04 -2.0018e+04 
  1.6072e+04  1.1325e+04  1.3174e+04 -4.0581e+03 
 -9.7825e+02 -5.6570e+03  4.9710e+03 -1.2410e+04 
  1.3005e+04  6.4518e+03  1.2515e+04 -3.5132e+02 

--&gt; a*1e-4

ans = 

 -5.0235e-05 -2.6002e-04 -1.6141e-04 -2.0018e-04 
  1.6072e-04  1.1325e-04  1.3174e-04 -4.0581e-05 
 -9.7825e-06 -5.6570e-05  4.9710e-05 -1.2410e-04 
  1.3005e-04  6.4518e-05  1.2515e-04 -3.5132e-06 

--&gt; b*1e4

ans = 

  1.4332e+04 -1.0239e+04 -7.0418e+03  1.2786e+04 
  1.9185e+04 -3.9921e+03  7.2592e+03  5.3659e+02 
  3.8819e+03  9.9801e+03 -5.2340e+03  3.4135e+02 
  3.4628e+03  4.9702e+02 -1.5551e+03  7.1998e+03 

--&gt; b*1e-4

ans = 

  1.4332e-04 -1.0239e-04 -7.0418e-05  1.2786e-04 
  1.9185e-04 -3.9921e-05  7.2592e-05  5.3659e-06 
  3.8819e-05  9.9802e-05 -5.2340e-05  3.4135e-06 
  3.4628e-05  4.9702e-06 -1.5551e-05  7.1998e-05 
</PRE>
<P>
Finally, if we assign the <code>format</code> function to a variable, we can retrieve the 
current format:
<PRE>
--&gt; format short
--&gt; t = format

t = 

 short
</PRE>
<P>
</BODY>
</HTML>
